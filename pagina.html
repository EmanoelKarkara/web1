<!-- Desenvolvido por Emanoel Dantas - 20170069630 -->

<!DOCTYPE html>
<html>

<head>
	<title>Tarefas</title>
	<meta charset="UTF-8">
</head>

<body>
	
	<div align="center">
		<h1>Lista de Tarefas</h1>
		<button onclick="inserir()">Nova Tarefa</button>
		<hr>
	</div>
	
	<div id="form" align="center" style="display: none;" >
		<form id="myForm" method="get" onsubmit="salvar(this); return false;">
			<label for="titulo">Título:</label>
			<input type="text" id="titulo">
			
			<label for="descricao">Descrição:</label>
			<input type="text" id="descricao" >
			
			<label for="responsavel">Responsável:</label>
			<input type="text" id="responsavel" >
			
			<label for="prazo">Prazo:</label>
			<input type="date" id="prazo" >
			
			<input type="submit" value="Cadastrar">
		</form>
		
		<hr>
	</div>
		
	<div  id="conteudo">
		<table id="incompletas" style="width:100%">
	  		<tr style='background-color: #FF0000'>
	  			<th align="center" colspan="4">Para Fazer:</th>
	  		</tr>
	  		<tr style='background-color: #f1f1c1'>
			  	<th align='left'>Atividade</th>
			   	<th align='left'>Responsável</th>
			   	<th align='left'>Prazo</th>
			   	<th align='left'>Opções</th>
		  	</tr>
		  	
	 	</table> 	
	 	
	 	<br><br><br>
	 	
		<table id="completas" style="width:100%" >
	  		<tr style='background-color: #00FF00'>
	  			<th align="center" colspan="4">Feito:</th>
	  		</tr>
	  		<tr style='background-color: #f1f1c1'>
			  	<th align='left'>Atividade</th>
			   	<th align='left'>Responsável</th>
			   	<th align='left'>Prazo</th>
			   	<th align='left'>Opções</th>
		  	</tr>
		 </table>		 

	</div>

	<div align="center">
		<hr>
		<p>Sistema de Desenvolvimento WEB I - Prof. Jair Cavalcanti - Desenvolvido por Emanoel Dantas - 20170069630 </p>
	</div>

	<script type="text/javascript">
	
		var tarefas = [];
		var n_tarefas = 0;
	
		function inserir(){
			document.getElementById("form").style.display = "block";
		}
		
		function titulo_table(cor){
			return "<table style='width:100%'>"+
						"<tr style='background-color: "+cor+";'>"+
							"<th align='center' colspan='5'>Para Fazer:</th>"+
						"</tr>"+
				  		"<tr style='background-color: #f1f1c1'>"+
						   "<th align='left'>Título</th>"+
						   "<th align='left'>Descrição</th>"+ 
						   "<th align='left'>Responsável</th>"+
						   "<th align='left'>Prazo</th>"+
						   "<th align='left'>Opções</th>"+
					  	"</tr>";
		}
		function corpo_table(){
			
			var html = "";
			
			for(var i = 0; i < tarefas.length; i++) {
		  		var linha = "<tr>";
		  		linha += "<td>" + tarefas[i]["titulo"] + "</td>";
		  		linha += "<td>" + tarefas[i]["descricao"] + "</td>";
		  		linha += "<td>" + tarefas[i]["responsavel"] + "</td>";
		  		linha += "<td>" + tarefas[i]["prazo"] + "</td>";
		  		linha += "<td><button>Alterar</button><button>Remover</button></td>";
		  		linha += "</tr>";
		  		html += linha;
		  	}
		  	html += "</table>";
			return html;
		}
		
		function atualizar(){
			var html = titulo_table("#FF0000");

		  	html += corpo_table();
			
		  	html += titulo_table("#00FF00");
		  	
		  	html += corpo_table();
		  	
			document.getElementById("conteudo").innerHTML = html;
			
		}
		
		function salvar(){
			var t1 = document.getElementById("titulo").value;
			var d1 = document.getElementById("descricao").value;
			var r1 = document.getElementById("responsavel").value;
			var p1 = document.getElementById("prazo").value;

			if(t1.trim() == ""){
				alert("Título inválido!");
				return false;
			}

			if(d1.trim() == ""){
				alert("Descrição inválida!");
				return false;
			}

			if(r1.trim() == ""){
				alert("Responsável inválido!");
				return false;
			} 

			if(p1.trim() == ""){
				alert("Prazo inválido!");
				return false;
			}

			var tarefa = {titulo:t1, descricao:d1, responsavel:r1, prazo:p1};
			
			tarefas[n_tarefas] = tarefa;
			n_tarefas++;
			
			atualizar();
			document.getElementById("form").style.display = "none";
			document.getElementById("titulo").value = "";
			document.getElementById("descricao").value = "";
			document.getElementById("responsavel").value = "";
			document.getElementById("prazo").value = "";

		}

	</script>

</body>
</html>